<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AI Health Diagnostic Chatbot{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/GPTstyles.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    {% block head_extra %}{% endblock %}
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <a href="{{ url_for('home') }}" class="brand">Health Guard</a>
            <div class="menu" id="menu">
                <ul class="menu-inner">
                    <li class="menu-item"><a href="{{ url_for('home') }}" class="menu-link">Home</a></li>
                    {% if 'email' in session %}
                        <li class="menu-item"><a href="{{ url_for('logout') }}" class="menu-link">Logout</a></li>
                    {% else %}
                        <li class="menu-item"><a href="{{ url_for('login') }}" class="menu-link">Login</a></li>
                        <li class="menu-item"><a href="{{ url_for('signin') }}" class="menu-link">Sign Up</a></li>
                    {% endif %}
                </ul>
            </div>
            <div class="burger" id="burger">
                <span class="burger-line"></span>
                <span class="burger-line"></span>
                <span class="burger-line"></span>
            </div>
        </nav>
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const burger = document.getElementById('burger');
            const menu = document.getElementById('menu');

            if (burger && menu) {
                burger.addEventListener('click', () => {
                    menu.classList.toggle('is-active');
                    burger.classList.toggle('is-active');
                });

                // Close menu when a link is clicked (for single-page navigation or on small screens)
                menu.querySelectorAll('.menu-link').forEach(link => {
                    link.addEventListener('click', () => {
                        if (menu.classList.contains('is-active')) {
                            menu.classList.remove('is-active');
                            burger.classList.remove('is-active');
                        }
                    });
                });
            }
        });
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>
